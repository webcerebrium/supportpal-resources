!function(t){t.Redactor.prototype.fontcolor=function(){return{init:function(){for(var t=["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"],e=["fontcolor","backcolor"],i=0;2>i;i++){var a=e[i],o=this.button.add(a,this.lang.get(a)),r=this.button.addDropdown(o);r.width(242),this.fontcolor.buildPicker(r,a,t)}},buildPicker:function(e,i,a){for(var o="backcolor"==i?"background-color":"color",r=a.length,n=this,s=function(e){e.preventDefault(),n.fontcolor.set(t(this).data("rule"),t(this).attr("rel"))},l=0;r>l;l++){var d=a[l],c=t('<a rel="'+d+'" data-rule="'+o+'" href="#" style="float: left; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');c.css("background-color",d),c.on("click",s),e.append(c)}var h=t('<a href="#" style="display: block; clear: both; padding: 5px; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("none"));h.on("click",t.proxy(function(t){t.preventDefault(),this.fontcolor.remove(o)},this)),e.append(h)},set:function(t,e){this.inline.format("span","style",t+": "+e+";")},remove:function(t){this.inline.removeStyleRule(t)}}}}(jQuery),function(t){t.Redactor.prototype.fontfamily=function(){return{init:function(){var e=["Arial","Helvetica","Georgia","Times New Roman","Monospace"],i=this,a={};t.each(e,function(t,e){a["s"+t]={title:e,func:function(){i.fontfamily.set(e)}}}),a.remove={title:"Remove Font Family",func:i.fontfamily.reset};var o=this.button.add("fontfamily","Change Font Family");this.button.addDropdown(o,a)},set:function(t){this.inline.format("span","style","font-family:"+t+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}}(jQuery),function(t){t.Redactor.prototype.fontsize=function(){return{init:function(){var e=[10,11,12,14,16,18,20,24,28,30],i=this,a={};t.each(e,function(t,e){a["s"+t]={title:e+"px",func:function(){i.fontsize.set(e)}}}),a.remove={title:"Remove Font Size",func:i.fontsize.reset};var o=this.button.add("fontsize","Change Font Size");this.button.addDropdown(o,a)},set:function(t){this.inline.format("span","style","font-size: "+t+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}}(jQuery),function(t){t.Redactor.prototype.imagemanager=function(){return{init:function(){this.opts.imageManagerJson&&this.modal.addCallback("image",this.imagemanager.load)},load:function(){var e=this.modal.getModal();this.modal.createTabber(e),this.modal.addTab(1,"Upload","active"),this.modal.addTab(2,"Choose"),t("#redactor-modal-image-droparea").addClass("redactor-tab redactor-tab1");var i=t('<div id="redactor-image-manager-box" style="overflow: auto; height: 300px;" class="redactor-tab redactor-tab2">').hide();e.append(i),t.ajax({dataType:"json",cache:!1,url:this.opts.imageManagerJson,success:t.proxy(function(e){t.each(e,t.proxy(function(e,i){var a="";"undefined"!=typeof i.title&&(a=i.title);var o=t('<img src="'+i.thumb+'" rel="'+i.image+'" title="'+a+'" style="width: 100px; height: 75px; cursor: pointer;" />');t("#redactor-image-manager-box").append(o),t(o).click(t.proxy(this.imagemanager.insert,this))},this))},this)})},insert:function(e){this.image.insert('<img src="'+t(e.target).attr("rel")+'" alt="'+t(e.target).attr("title")+'">')}}}}(jQuery),function(t){t.Redactor.prototype.table=function(){return{getTemplate:function(){return String()+'<section id="redactor-modal-table-insert"><label>'+this.lang.get("rows")+'</label><input type="text" size="5" value="2" id="redactor-table-rows" /><label>'+this.lang.get("columns")+'</label><input type="text" size="5" value="3" id="redactor-table-columns" /></section>'},init:function(){var t={};t.insert_table={title:this.lang.get("insert_table"),func:this.table.show,observe:{element:"table","in":{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_row_above={title:this.lang.get("insert_row_above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_row_below={title:this.lang.get("insert_row_below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_column_left={title:this.lang.get("insert_column_left"),func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_column_right={title:this.lang.get("insert_column_right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.add_head={title:this.lang.get("add_head"),func:this.table.addHead,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_head={title:this.lang.get("delete_head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_column={title:this.lang.get("delete_column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_row={title:this.lang.get("delete_row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_table={title:this.lang.get("delete_table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},this.observe.addButton("td","table"),this.observe.addButton("th","table");var e=this.button.addBefore("link","table",this.lang.get("table"));this.button.addDropdown(e,t)},show:function(){this.modal.addTemplate("table",this.table.getTemplate()),this.modal.load("table",this.lang.get("insert_table"),300),this.modal.createCancelButton();var e=this.modal.createActionButton(this.lang.get("insert"));e.on("click",this.table.insert),this.selection.save(),this.modal.show(),t("#redactor-table-rows").focus()},insert:function(){this.placeholder.remove();var e,i,a,o,r=t("#redactor-table-rows").val(),n=t("#redactor-table-columns").val(),s=t("<div>"),l=Math.floor(99999*Math.random()),d=t('<table class="redactor-table" id="table'+l+'"><tbody></tbody></table>');for(e=0;r>e;e++){for(i=t("<tr>"),a=0;n>a;a++)o=t("<td>"+this.opts.invisibleSpace+"</td>"),0===e&&0===a&&o.append(this.selection.getMarker()),t(i).append(o);d.append(i)}s.append(d);var c=s.html();if(this.modal.close(),this.selection.restore(),!this.table.getTable()){this.buffer.set();var h=this.selection.getBlock()||this.selection.getCurrent();h&&"BODY"!=h.tagName?("LI"==h.tagName&&(h=t(h).closest("ul, ol")),t(h).after(c)):this.insert.html(c,!1),this.selection.restore();var f=this.$editor.find("#table"+l),b=f.prev("p");if(b.length>0&&this.utils.isEmpty(b.html())&&b.remove(),!this.opts.linebreaks&&(this.utils.browser("mozilla")||this.utils.browser("msie"))){var u=f.next();0===u.length&&f.after(this.opts.emptyHtml)}this.observe.buttons(),f.find("span.redactor-selection-marker").remove(),f.removeAttr("id"),this.code.sync(),this.core.setCallback("insertedTable",f)}},getTable:function(){var e=t(this.selection.getParent()).closest("table");return this.utils.isRedactorParent(e)?0===e.size()?!1:e:!1},restoreAfterDelete:function(t){this.selection.restore(),t.find("span.redactor-selection-marker").remove(),this.code.sync()},deleteTable:function(){var t=this.table.getTable();if(t){this.buffer.set();var e=t.next();this.opts.linebreaks||0===e.length?this.caret.setAfter(t):this.caret.setStart(e),t.remove(),this.code.sync()}},deleteRow:function(){var e=this.table.getTable();if(e){var i=t(this.selection.getCurrent());this.buffer.set();var a=i.closest("tr"),o=a.prev().length?a.prev():a.next();if(o.length){var r=o.children("td, th").first();r.length&&r.prepend(this.selection.getMarker())}a.remove(),this.table.restoreAfterDelete(e)}},deleteColumn:function(){var e=this.table.getTable();if(e){this.buffer.set();var i=t(this.selection.getCurrent()),a=i.closest("td, th"),o=a[0].cellIndex;e.find("tr").each(t.proxy(function(e,i){var a=t(i),r=0>o-1?o+1:o-1;0===e&&a.find("td, th").eq(r).prepend(this.selection.getMarker()),a.find("td, th").eq(o).remove()},this)),this.table.restoreAfterDelete(e)}},addHead:function(){var e=this.table.getTable();if(e){if(this.buffer.set(),0!==e.find("thead").size())return void this.table.deleteHead();var i=e.find("tr").first().clone();i.find("td").replaceWith(t.proxy(function(){return t("<th>").html(this.opts.invisibleSpace)},this)),$thead=t("<thead></thead>").append(i),e.prepend($thead),this.code.sync()}},deleteHead:function(){var t=this.table.getTable();if(t){var e=t.find("thead");0!==e.size()&&(this.buffer.set(),e.remove(),this.code.sync())}},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(e){var i=this.table.getTable();if(i){this.buffer.set();var a=t(this.selection.getCurrent()),o=a.closest("tr"),r=o.clone();r.find("th").replaceWith(function(){var e=t("<td>");return e[0].attributes=this.attributes,e.append(t(this).contents())}),r.find("td").html(this.opts.invisibleSpace),"after"==e?o.after(r):o.before(r),this.code.sync()}},addColumn:function(e){var i=this.table.getTable();if(i){var a=0,o=t(this.selection.getCurrent());this.buffer.set();var r=o.closest("tr"),n=o.closest("td, th");r.find("td, th").each(t.proxy(function(e,i){t(i)[0]===n[0]&&(a=e)},this)),i.find("tr").each(t.proxy(function(i,o){var r=t(o).find("td, th").eq(a),n=r.clone();n.html(this.opts.invisibleSpace),"after"==e?r.after(n):r.before(n)},this)),this.code.sync()}}}}}(jQuery),function(t){t.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,getTemplate:function(){return String()+'<section id="redactor-modal-video-insert"><label>'+this.lang.get("video_html_code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section>'},init:function(){var t=this.button.addAfter("image","video",this.lang.get("video"));this.button.addCallback(t,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate()),this.modal.load("video",this.lang.get("video"),700),this.modal.createCancelButton();var e=this.modal.createActionButton(this.lang.get("insert"));e.on("click",this.video.insert),this.selection.save(),this.modal.show(),t("#redactor-insert-video-area").focus()},insert:function(){var e=t("#redactor-insert-video-area").val();if(!e.match(/<iframe|<video/gi)){e=this.clean.stripTags(e);var i='<iframe style="width: 500px; height: 281px;" src="',a='" frameborder="0" allowfullscreen></iframe>';e.match(this.video.reUrlYoutube)?e=e.replace(this.video.reUrlYoutube,i+"//www.youtube.com/embed/$1"+a):e.match(this.video.reUrlVimeo)&&(e=e.replace(this.video.reUrlVimeo,i+"//player.vimeo.com/video/$2"+a))}this.selection.restore(),this.modal.close();var o=this.selection.getBlock()||this.selection.getCurrent();o?t(o).after(e):this.insert.html(e),this.code.sync()}}}}(jQuery);
//# sourceMappingURL=plugins.min.js.map
