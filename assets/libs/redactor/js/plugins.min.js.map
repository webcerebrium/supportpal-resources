{"version":3,"sources":["fontcolor.js","fontfamily.js","fontsize.js","imagemanager.js","table.js","video.js"],"names":["$","Redactor","prototype","fontcolor","init","colors","buttons","i","name","button","this","add","lang","get","$dropdown","addDropdown","width","buildPicker","rule","len","length","self","func","e","preventDefault","set","data","attr","z","color","$swatch","css","on","append","$elNone","html","proxy","remove","type","inline","format","removeStyleRule","jQuery","fontfamily","fonts","that","dropdown","each","s","title","reset","value","fontsize","size","imagemanager","opts","imageManagerJson","modal","addCallback","load","$modal","getModal","createTabber","addTab","addClass","$box","hide","ajax","dataType","cache","url","success","key","val","thumbtitle","img","thumb","image","click","insert","target","table","getTemplate","String","insert_table","show","observe","element","in","class","aria-disabled","insert_row_above","addRowAbove","out","insert_row_below","addRowBelow","insert_column_left","addColumnLeft","insert_column_right","addColumnRight","add_head","addHead","delete_head","deleteHead","delete_column","deleteColumn","delete_row","deleteRow","delete_table","deleteTable","addButton","addBefore","addTemplate","createCancelButton","createActionButton","selection","save","focus","placeholder","$row","$column","rows","columns","$tableBox","tableId","Math","floor","random","$table","invisibleSpace","getMarker","close","restore","getTable","buffer","current","getBlock","getCurrent","tagName","closest","after","$editor","find","p","prev","utils","isEmpty","linebreaks","browser","$next","next","emptyHtml","removeAttr","code","sync","core","setCallback","getParent","isRedactorParent","restoreAfterDelete","caret","setAfter","setStart","$current","$current_tr","$focus_tr","$focus_td","children","first","prepend","$current_td","index","cellIndex","elem","$elem","focusIndex","eq","tr","clone","replaceWith","$thead","addRow","addColumn","new_tr","$td","attributes","contents","before","td","video","reUrlYoutube","reUrlVimeo","addAfter","match","clean","stripTags","iframeStart","iframeEnd","replace"],"mappings":"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","file":"plugins.min.js","sourcesContent":["(function($)\n{\n\t$.Redactor.prototype.fontcolor = function()\n\t{\n\t\treturn {\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tvar colors = [\n\t\t\t\t\t'#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\n\t\t\t\t\t'#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\n\t\t\t\t\t'#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\n\t\t\t\t\t'#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\n\t\t\t\t\t'#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\n\t\t\t\t\t'#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#31859b',  '#974806', '#7f6000'\n\t\t\t\t];\n\n\t\t\t\tvar buttons = ['fontcolor', 'backcolor'];\n\n\t\t\t\tfor (var i = 0; i < 2; i++)\n\t\t\t\t{\n\t\t\t\t\tvar name = buttons[i];\n\n\t\t\t\t\tvar button = this.button.add(name, this.lang.get(name));\n\t\t\t\t\tvar $dropdown = this.button.addDropdown(button);\n\n\t\t\t\t\t$dropdown.width(242);\n\t\t\t\t\tthis.fontcolor.buildPicker($dropdown, name, colors);\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuildPicker: function($dropdown, name, colors)\n\t\t\t{\n\t\t\t\tvar rule = (name == 'backcolor') ? 'background-color' : 'color';\n\n\t\t\t\tvar len = colors.length;\n\t\t\t\tvar self = this;\n\t\t\t\tvar func = function(e)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.fontcolor.set($(this).data('rule'), $(this).attr('rel'));\n\t\t\t\t};\n\n\t\t\t\tfor (var z = 0; z < len; z++)\n\t\t\t\t{\n\t\t\t\t\tvar color = colors[z];\n\n\t\t\t\t\tvar $swatch = $('<a rel=\"' + color + '\" data-rule=\"' + rule +'\" href=\"#\" style=\"float: left; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;\"></a>');\n\t\t\t\t\t$swatch.css('background-color', color);\n\t\t\t\t\t$swatch.on('click', func);\n\n\t\t\t\t\t$dropdown.append($swatch);\n\t\t\t\t}\n\n\t\t\t\tvar $elNone = $('<a href=\"#\" style=\"display: block; clear: both; padding: 5px; font-size: 12px; line-height: 1;\"></a>').html(this.lang.get('none'));\n\t\t\t\t$elNone.on('click', $.proxy(function(e)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.fontcolor.remove(rule);\n\n\t\t\t\t}, this));\n\n\t\t\t\t$dropdown.append($elNone);\n\t\t\t},\n\t\t\tset: function(rule, type)\n\t\t\t{\n\t\t\t\tthis.inline.format('span', 'style', rule + ': ' + type + ';');\n\t\t\t},\n\t\t\tremove: function(rule)\n\t\t\t{\n\t\t\t\tthis.inline.removeStyleRule(rule);\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.fontfamily = function()\n\t{\n\t\treturn {\n\t\t\tinit: function ()\n\t\t\t{\n\t\t\t\tvar fonts = [ 'Arial', 'Helvetica', 'Georgia', 'Times New Roman', 'Monospace' ];\n\t\t\t\tvar that = this;\n\t\t\t\tvar dropdown = {};\n\n\t\t\t\t$.each(fonts, function(i, s)\n\t\t\t\t{\n\t\t\t\t\tdropdown['s' + i] = { title: s, func: function() { that.fontfamily.set(s); }};\n\t\t\t\t});\n\n\t\t\t\tdropdown.remove = { title: 'Remove Font Family', func: that.fontfamily.reset };\n\n\t\t\t\tvar button = this.button.add('fontfamily', 'Change Font Family');\n\t\t\t\tthis.button.addDropdown(button, dropdown);\n\n\t\t\t},\n\t\t\tset: function (value)\n\t\t\t{\n\t\t\t\tthis.inline.format('span', 'style', 'font-family:' + value + ';');\n\t\t\t},\n\t\t\treset: function()\n\t\t\t{\n\t\t\t\tthis.inline.removeStyleRule('font-family');\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.fontsize = function()\n\t{\n\t\treturn {\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tvar fonts = [10, 11, 12, 14, 16, 18, 20, 24, 28, 30];\n\t\t\t\tvar that = this;\n\t\t\t\tvar dropdown = {};\n\n\t\t\t\t$.each(fonts, function(i, s)\n\t\t\t\t{\n\t\t\t\t\tdropdown['s' + i] = { title: s + 'px', func: function() { that.fontsize.set(s); } };\n\t\t\t\t});\n\n\t\t\t\tdropdown.remove = { title: 'Remove Font Size', func: that.fontsize.reset };\n\n\t\t\t\tvar button = this.button.add('fontsize', 'Change Font Size');\n\t\t\t\tthis.button.addDropdown(button, dropdown);\n\t\t\t},\n\t\t\tset: function(size)\n\t\t\t{\n\t\t\t\tthis.inline.format('span', 'style', 'font-size: ' + size + 'px;');\n\t\t\t},\n\t\t\treset: function()\n\t\t\t{\n\t\t\t\tthis.inline.removeStyleRule('font-size');\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.imagemanager = function()\n\t{\n\t\treturn {\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tif (!this.opts.imageManagerJson) return;\n\n\t\t\t\tthis.modal.addCallback('image', this.imagemanager.load);\n\t\t\t},\n\t\t\tload: function()\n\t\t\t{\n\t\t\t\tvar $modal = this.modal.getModal();\n\n\t\t\t\tthis.modal.createTabber($modal);\n\t\t\t\tthis.modal.addTab(1, 'Upload', 'active');\n\t\t\t\tthis.modal.addTab(2, 'Choose');\n\n\t\t\t\t$('#redactor-modal-image-droparea').addClass('redactor-tab redactor-tab1');\n\n\t\t\t\tvar $box = $('<div id=\"redactor-image-manager-box\" style=\"overflow: auto; height: 300px;\" class=\"redactor-tab redactor-tab2\">').hide();\n\t\t\t\t$modal.append($box);\n\n\t\t\t\t$.ajax({\n\t\t\t\t  dataType: \"json\",\n\t\t\t\t  cache: false,\n\t\t\t\t  url: this.opts.imageManagerJson,\n\t\t\t\t  success: $.proxy(function(data)\n\t\t\t\t\t{\n\t\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// title\n\t\t\t\t\t\t\tvar thumbtitle = '';\n\t\t\t\t\t\t\tif (typeof val.title !== 'undefined') thumbtitle = val.title;\n\n\t\t\t\t\t\t\tvar img = $('<img src=\"' + val.thumb + '\" rel=\"' + val.image + '\" title=\"' + thumbtitle + '\" style=\"width: 100px; height: 75px; cursor: pointer;\" />');\n\t\t\t\t\t\t\t$('#redactor-image-manager-box').append(img);\n\t\t\t\t\t\t\t$(img).click($.proxy(this.imagemanager.insert, this));\n\n\t\t\t\t\t\t}, this));\n\n\n\t\t\t\t\t}, this)\n\t\t\t\t});\n\n\n\t\t\t},\n\t\t\tinsert: function(e)\n\t\t\t{\n\t\t\t\tthis.image.insert('<img src=\"' + $(e.target).attr('rel') + '\" alt=\"' + $(e.target).attr('title') + '\">');\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.table = function()\n\t{\n\t\treturn {\n\t\t\tgetTemplate: function()\n\t\t\t{\n\t\t\t\treturn String()\n\t\t\t\t+ '<section id=\"redactor-modal-table-insert\">'\n\t\t\t\t\t+ '<label>' + this.lang.get('rows') + '</label>'\n\t\t\t\t\t+ '<input type=\"text\" size=\"5\" value=\"2\" id=\"redactor-table-rows\" />'\n\t\t\t\t\t+ '<label>' + this.lang.get('columns') + '</label>'\n\t\t\t\t\t+ '<input type=\"text\" size=\"5\" value=\"3\" id=\"redactor-table-columns\" />'\n\t\t\t\t+ '</section>';\n\t\t\t},\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tvar dropdown = {};\n\n\t\t\t\tdropdown.insert_table = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('insert_table'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.show,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tin: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.insert_row_above = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('insert_row_above'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.addRowAbove,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.insert_row_below = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('insert_row_below'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.addRowBelow,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.insert_column_left = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('insert_column_left'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.addColumnLeft,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.insert_column_right = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('insert_column_right'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.addColumnRight,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.add_head = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('add_head'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.addHead,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.delete_head = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('delete_head'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.deleteHead,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.delete_column = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('delete_column'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.deleteColumn,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.delete_row = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('delete_row'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.deleteRow,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tdropdown.delete_table = {\n\t\t\t\t\t\t\t\t\ttitle: this.lang.get('delete_table'),\n\t\t\t\t\t\t\t\t\tfunc: this.table.deleteTable,\n\t\t\t\t\t\t\t\t\tobserve: {\n\t\t\t\t\t\t\t\t\t\telement: 'table',\n\t\t\t\t\t\t\t\t\t\tout: {\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'class': 'redactor-dropdown-link-inactive',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-disabled': true,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\tthis.observe.addButton('td', 'table');\n\t\t\t\tthis.observe.addButton('th', 'table');\n\n\t\t\t\tvar button = this.button.addBefore('link', 'table', this.lang.get('table'));\n\t\t\t\tthis.button.addDropdown(button, dropdown);\n\t\t\t},\n\t\t\tshow: function()\n\t\t\t{\n\t\t\t\tthis.modal.addTemplate('table', this.table.getTemplate());\n\n\t\t\t\tthis.modal.load('table', this.lang.get('insert_table'), 300);\n\t\t\t\tthis.modal.createCancelButton();\n\n\t\t\t\tvar button = this.modal.createActionButton(this.lang.get('insert'));\n\t\t\t\tbutton.on('click', this.table.insert);\n\n\t\t\t\tthis.selection.save();\n\t\t\t\tthis.modal.show();\n\n\t\t\t\t$('#redactor-table-rows').focus();\n\n\t\t\t},\n\t\t\tinsert: function()\n\t\t\t{\n\t\t\t\tthis.placeholder.remove();\n\n\t\t\t\tvar rows = $('#redactor-table-rows').val(),\n\t\t\t\t\tcolumns = $('#redactor-table-columns').val(),\n\t\t\t\t\t$tableBox = $('<div>'),\n\t\t\t\t\ttableId = Math.floor(Math.random() * 99999),\n\t\t\t\t\t$table = $('<table class=\"redactor-table\" id=\"table' + tableId + '\"><tbody></tbody></table>'),\n\t\t\t\t\ti, $row, z, $column;\n\n\t\t\t\tfor (i = 0; i < rows; i++)\n\t\t\t\t{\n\t\t\t\t\t$row = $('<tr>');\n\n\t\t\t\t\tfor (z = 0; z < columns; z++)\n\t\t\t\t\t{\n\t\t\t\t\t\t$column = $('<td>' + this.opts.invisibleSpace + '</td>');\n\n\t\t\t\t\t\t// set the focus to the first td\n\t\t\t\t\t\tif (i === 0 && z === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$column.append(this.selection.getMarker());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$($row).append($column);\n\t\t\t\t\t}\n\n\t\t\t\t\t$table.append($row);\n\t\t\t\t}\n\n\t\t\t\t$tableBox.append($table);\n\t\t\t\tvar html = $tableBox.html();\n\n\t\t\t\tthis.modal.close();\n\t\t\t\tthis.selection.restore();\n\n\t\t\t\tif (this.table.getTable()) return;\n\n\t\t\t\tthis.buffer.set();\n\n\t\t\t\tvar current = this.selection.getBlock() || this.selection.getCurrent();\n\t\t\t\tif (current && current.tagName != 'BODY')\n\t\t\t\t{\n\t\t\t\t\tif (current.tagName == 'LI') current = $(current).closest('ul, ol');\n\t\t\t\t\t$(current).after(html);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.insert.html(html, false);\n\t\t\t\t}\n\n\t\t\t\tthis.selection.restore();\n\n\t\t\t\tvar table = this.$editor.find('#table' + tableId);\n\n\t\t\t\tvar p = table.prev(\"p\");\n\n\t\t\t\tif (p.length > 0 && this.utils.isEmpty(p.html()))\n\t\t\t\t{\n\t\t\t\t\tp.remove();\n\t\t\t\t}\n\n\t\t\t\tif (!this.opts.linebreaks && (this.utils.browser('mozilla') || this.utils.browser('msie')))\n\t\t\t\t{\n\t\t\t\t\tvar $next = table.next();\n\t\t\t\t\tif ($next.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t table.after(this.opts.emptyHtml);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.observe.buttons();\n\n\t\t\t\ttable.find('span.redactor-selection-marker').remove();\n\t\t\t\ttable.removeAttr('id');\n\n\t\t\t\tthis.code.sync();\n\t\t\t\tthis.core.setCallback('insertedTable', table);\n\t\t\t},\n\t\t\tgetTable: function()\n\t\t\t{\n\t\t\t\tvar $table = $(this.selection.getParent()).closest('table');\n\n\t\t\t\tif (!this.utils.isRedactorParent($table)) return false;\n\t\t\t\tif ($table.size() === 0) return false;\n\n\t\t\t\treturn $table;\n\t\t\t},\n\t\t\trestoreAfterDelete: function($table)\n\t\t\t{\n\t\t\t\tthis.selection.restore();\n\t\t\t\t$table.find('span.redactor-selection-marker').remove();\n\t\t\t\tthis.code.sync();\n\t\t\t},\n\t\t\tdeleteTable: function()\n\t\t\t{\n\t\t\t\tvar $table = this.table.getTable();\n\t\t\t\tif (!$table) return;\n\n\t\t\t\tthis.buffer.set();\n\n\n\t\t\t\tvar $next = $table.next();\n\t\t\t\tif (!this.opts.linebreaks && $next.length !== 0)\n\t\t\t\t{\n\t\t\t\t\tthis.caret.setStart($next);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.caret.setAfter($table);\n\t\t\t\t}\n\n\n\t\t\t\t$table.remove();\n\n\t\t\t\tthis.code.sync();\n\t\t\t},\n\t\t\tdeleteRow: function()\n\t\t\t{\n\t\t\tvar $table = this.table.getTable();\n\t\t\tif (!$table) return;\n\n\t\t\tvar $current = $(this.selection.getCurrent());\n\n\t\t\tthis.buffer.set();\n\n\t\t\tvar $current_tr = $current.closest('tr');\n\t\t\tvar $focus_tr = $current_tr.prev().length ? $current_tr.prev() : $current_tr.next();\n\t\t\tif ($focus_tr.length)\n\t\t\t{\n\t\t\t\tvar $focus_td = $focus_tr.children('td, th').first();\n\t\t\t\tif ($focus_td.length) $focus_td.prepend(this.selection.getMarker());\n\t\t\t}\n\n\t\t\t$current_tr.remove();\n\t\t\tthis.table.restoreAfterDelete($table);\n\t\t},\n\t\t\tdeleteColumn: function()\n\t\t\t{\n\t\t\tvar $table = this.table.getTable();\n\t\t\tif (!$table) return;\n\n\t\t\tthis.buffer.set();\n\n\t\t\tvar $current = $(this.selection.getCurrent());\n\t\t\tvar $current_td = $current.closest('td, th');\n\t\t\tvar index = $current_td[0].cellIndex;\n\n\t\t\t$table.find('tr').each($.proxy(function(i, elem)\n\t\t\t{\n\t\t\t\tvar $elem = $(elem);\n\t\t\t\tvar focusIndex = index - 1 < 0 ? index + 1 : index - 1;\n\t\t\t\tif (i === 0) $elem.find('td, th').eq(focusIndex).prepend(this.selection.getMarker());\n\n\t\t\t\t$elem.find('td, th').eq(index).remove();\n\n\t\t\t}, this));\n\n\t\t\tthis.table.restoreAfterDelete($table);\n\t\t},\n\t\t\taddHead: function()\n\t\t\t{\n\t\t\t\tvar $table = this.table.getTable();\n\t\t\t\tif (!$table) return;\n\n\t\t\t\tthis.buffer.set();\n\n\t\t\t\tif ($table.find('thead').size() !== 0)\n\t\t\t\t{\n\t\t\t\t\tthis.table.deleteHead();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar tr = $table.find('tr').first().clone();\n\t\t\t\ttr.find('td').replaceWith($.proxy(function()\n\t\t\t\t{\n\t\t\t\t\treturn $('<th>').html(this.opts.invisibleSpace);\n\t\t\t\t}, this));\n\n\t\t\t\t$thead = $('<thead></thead>').append(tr);\n\t\t\t\t$table.prepend($thead);\n\n\t\t\t\tthis.code.sync();\n\n\t\t\t},\n\t\t\tdeleteHead: function()\n\t\t\t{\n\t\t\t\tvar $table = this.table.getTable();\n\t\t\t\tif (!$table) return;\n\n\t\t\t\tvar $thead = $table.find('thead');\n\t\t\t\tif ($thead.size() === 0) return;\n\n\t\t\t\tthis.buffer.set();\n\n\t\t\t\t$thead.remove();\n\t\t\t\tthis.code.sync();\n\t\t\t},\n\t\t\taddRowAbove: function()\n\t\t\t{\n\t\t\t\tthis.table.addRow('before');\n\t\t\t},\n\t\t\taddRowBelow: function()\n\t\t\t{\n\t\t\t\tthis.table.addRow('after');\n\t\t\t},\n\t\t\taddColumnLeft: function()\n\t\t\t{\n\t\t\t\tthis.table.addColumn('before');\n\t\t\t},\n\t\t\taddColumnRight: function()\n\t\t\t{\n\t\t\t\tthis.table.addColumn('after');\n\t\t\t},\n\t\t\taddRow: function(type)\n\t\t\t{\n\t\t\t\tvar $table = this.table.getTable();\n\t\t\t\tif (!$table) return;\n\n\t\t\t\tthis.buffer.set();\n\n\t\t\t\tvar $current = $(this.selection.getCurrent());\n\t\t\t\tvar $current_tr = $current.closest('tr');\n\t\t\t\tvar new_tr = $current_tr.clone();\n\n\t\t\t\tnew_tr.find('th').replaceWith(function()\n\t\t\t\t{\n\t\t\t\t\tvar $td = $('<td>');\n\t\t\t\t\t$td[0].attributes = this.attributes;\n\n\t\t\t\t\treturn $td.append($(this).contents());\n\t\t\t\t});\n\n\t\t\t\tnew_tr.find('td').html(this.opts.invisibleSpace);\n\n\t\t\t\tif (type == 'after')\n\t\t\t\t{\n\t\t\t\t\t$current_tr.after(new_tr);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$current_tr.before(new_tr);\n\t\t\t\t}\n\n\t\t\t\tthis.code.sync();\n\t\t\t},\n\t\t\taddColumn: function (type)\n\t\t\t{\n\t\t\t\tvar $table = this.table.getTable();\n\t\t\t\tif (!$table) return;\n\n\t\t\t\tvar index = 0;\n\t\t\t\tvar current = $(this.selection.getCurrent());\n\n\t\t\t\tthis.buffer.set();\n\n\t\t\t\tvar $current_tr = current.closest('tr');\n\t\t\t\tvar $current_td = current.closest('td, th');\n\n\t\t\t\t$current_tr.find('td, th').each($.proxy(function(i, elem)\n\t\t\t\t{\n\t\t\t\t\tif ($(elem)[0] === $current_td[0]) index = i;\n\n\t\t\t\t}, this));\n\n\t\t\t\t$table.find('tr').each($.proxy(function(i, elem)\n\t\t\t\t{\n\t\t\t\t\tvar $current = $(elem).find('td, th').eq(index);\n\n\t\t\t\t\tvar td = $current.clone();\n\t\t\t\t\ttd.html(this.opts.invisibleSpace);\n\n\t\t\t\t\tif (type == 'after')\n\t\t\t\t\t{\n\t\t\t\t\t\t$current.after(td);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t$current.before(td);\n\t\t\t\t\t}\n\n\t\t\t\t}, this));\n\n\t\t\t\tthis.code.sync();\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.video = function()\n\t{\n\t\treturn {\n\t\t\treUrlYoutube: /https?:\\/\\/(?:[0-9A-Z-]+\\.)?(?:youtu\\.be\\/|youtube\\.com\\S*[^\\w\\-\\s])([\\w\\-]{11})(?=[^\\w\\-]|$)(?![?=&+%\\w.-]*(?:['\"][^<>]*>|<\\/a>))[?=&+%\\w.-]*/ig,\n\t\t\treUrlVimeo: /https?:\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/,\n\t\t\tgetTemplate: function()\n\t\t\t{\n\t\t\t\treturn String()\n\t\t\t\t+ '<section id=\"redactor-modal-video-insert\">'\n\t\t\t\t\t+ '<label>' + this.lang.get('video_html_code') + '</label>'\n\t\t\t\t\t+ '<textarea id=\"redactor-insert-video-area\" style=\"height: 160px;\"></textarea>'\n\t\t\t\t+ '</section>';\n\t\t\t},\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tvar button = this.button.addAfter('image', 'video', this.lang.get('video'));\n\t\t\t\tthis.button.addCallback(button, this.video.show);\n\t\t\t},\n\t\t\tshow: function()\n\t\t\t{\n\t\t\t\tthis.modal.addTemplate('video', this.video.getTemplate());\n\n\t\t\t\tthis.modal.load('video', this.lang.get('video'), 700);\n\t\t\t\tthis.modal.createCancelButton();\n\n\t\t\t\tvar button = this.modal.createActionButton(this.lang.get('insert'));\n\t\t\t\tbutton.on('click', this.video.insert);\n\n\t\t\t\tthis.selection.save();\n\t\t\t\tthis.modal.show();\n\n\t\t\t\t$('#redactor-insert-video-area').focus();\n\n\t\t\t},\n\t\t\tinsert: function()\n\t\t\t{\n\t\t\t\tvar data = $('#redactor-insert-video-area').val();\n\n\t\t\t\tif (!data.match(/<iframe|<video/gi))\n\t\t\t\t{\n\t\t\t\t\tdata = this.clean.stripTags(data);\n\n\t\t\t\t\t// parse if it is link on youtube & vimeo\n\t\t\t\t\tvar iframeStart = '<iframe style=\"width: 500px; height: 281px;\" src=\"',\n\t\t\t\t\t\tiframeEnd = '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n\t\t\t\t\tif (data.match(this.video.reUrlYoutube))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.replace(this.video.reUrlYoutube, iframeStart + '//www.youtube.com/embed/$1' + iframeEnd);\n\t\t\t\t\t}\n\t\t\t\t\telse if (data.match(this.video.reUrlVimeo))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.replace(this.video.reUrlVimeo, iframeStart + '//player.vimeo.com/video/$2' + iframeEnd);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.selection.restore();\n\t\t\t\tthis.modal.close();\n\n\t\t\t\tvar current = this.selection.getBlock() || this.selection.getCurrent();\n\n\t\t\t\tif (current) $(current).after(data);\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.insert.html(data);\n\t\t\t\t}\n\n\t\t\t\tthis.code.sync();\n\t\t\t}\n\n\t\t};\n\t};\n})(jQuery);"],"sourceRoot":"/source/"}